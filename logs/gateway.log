2025-07-24 14:15:47.904 [main]  INFO  c.example.gateway.GatewayApplication - Starting GatewayApplication using Java 17.0.11 on wuka-pc with PID 27444 (E:\javaWorkspace\boot-modules\gateway\target\classes started by wuka in E:\javaWorkspace\boot-modules)
2025-07-24 14:15:47.909 [main]  INFO  c.example.gateway.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-24 14:15:48.592 [main]  INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=02c9ab62-0cfc-325c-83cf-895bcaca58de
2025-07-24 14:15:48.664 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 14:15:48.666 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 14:15:48.667 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 14:15:49.453 [main]  DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api(/(?<segment>.*))?$, _genkey_1=/projects/spring-cloud-gateway/$\{segment}}}], uri=https://spring.io, order=0, metadata={}}, RouteDefinition{id='auth_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/auth/**}}], filters=[], uri=http://127.0.0.1:8081, order=0, metadata={}}, RouteDefinition{id='demo_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/v1/demo/**}}], filters=[], uri=http://127.0.0.1:8082, order=0, metadata={}}]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-07-24 14:15:49.715 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-07-24 14:15:49.717 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-07-24 14:15:49.717 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-07-24 14:15:49.717 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-07-24 14:15:50.030 [main]  INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-07-24 14:15:50.114 [main]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-24 14:15:50.253 [main]  WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-07-24 14:15:50.506 [main]  INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 8080
2025-07-24 14:15:50.676 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test_route applying {_genkey_0=/api/**} to Path
2025-07-24 14:15:50.691 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test_route applying filter {_genkey_0=/api(/(?<segment>.*))?$, _genkey_1=/projects/spring-cloud-gateway/$\{segment}} to RewritePath
2025-07-24 14:15:50.702 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test_route
2025-07-24 14:15:50.702 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth_route applying {_genkey_0=/auth/**} to Path
2025-07-24 14:15:50.703 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth_route
2025-07-24 14:15:50.703 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition demo_route applying {_genkey_0=/v1/demo/**} to Path
2025-07-24 14:15:50.703 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: demo_route
2025-07-24 14:15:50.710 [main]  DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 3
2025-07-24 14:15:50.718 [main]  INFO  c.example.gateway.GatewayApplication - Started GatewayApplication in 3.27 seconds (JVM running for 3.941)
2025-07-24 14:17:29.454 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-1] HTTP GET "/v1/demo/1"
2025-07-24 14:17:29.486 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:17:29.486 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:17:29.487 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [a963a064-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:17:29.488 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:17:29.489 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:17:49.238 [reactor-http-nio-2]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 14:17:49.246 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-1] Completed 401 UNAUTHORIZED
2025-07-24 14:18:13.962 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-2] HTTP GET "/v1/demo/1"
2025-07-24 14:18:13.963 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:18:13.963 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:18:13.963 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [a963a064-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:18:13.963 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:18:13.963 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:18:21.618 [reactor-http-nio-2]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 14:18:28.375 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-2] Completed 401 UNAUTHORIZED
2025-07-24 14:18:40.102 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-3] HTTP POST "/auth/login"
2025-07-24 14:18:40.103 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth_route
2025-07-24 14:18:40.103 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/auth/login] to Route{id='auth_route', uri=http://127.0.0.1:8081, order=0, predicate=Paths: [/auth/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:18:40.103 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [a963a064-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:18:40.103 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:18:40.103 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:18:41.020 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-3] Completed 200 OK
2025-07-24 14:18:48.967 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-4] HTTP GET "/v1/demo/1"
2025-07-24 14:18:48.968 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:18:48.968 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:18:48.968 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [a963a064-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:18:48.968 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:18:48.968 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:19:10.424 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-4] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:19:37.238 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-5] HTTP GET "/v1/demo/1"
2025-07-24 14:19:37.239 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:19:37.239 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:19:37.239 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [a963a064-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:19:37.239 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:19:37.239 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:21:13.468 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [a963a064-5] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:23:36.337 [reactor-http-nio-3]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [c66d759e-6] HTTP GET "/v1/demo/1"
2025-07-24 14:23:36.338 [reactor-http-nio-3]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:23:36.338 [reactor-http-nio-3]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:23:36.338 [reactor-http-nio-3]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [c66d759e-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:23:36.338 [reactor-http-nio-3]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:23:36.338 [reactor-http-nio-3]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:24:12.402 [reactor-http-nio-3]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [c66d759e-6] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:26:24.623 [reactor-http-nio-4]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [0132f123-7] HTTP GET "/v1/demo/1"
2025-07-24 14:26:24.623 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:26:24.624 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:26:24.624 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [0132f123-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:26:24.624 [reactor-http-nio-4]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:26:24.624 [reactor-http-nio-4]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:26:30.781 [reactor-http-nio-4]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [0132f123-7] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:27:19.032 [reactor-http-nio-4]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [0132f123-8] HTTP GET "/v1/demo/1"
2025-07-24 14:27:19.033 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:27:19.034 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:27:19.034 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [0132f123-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:27:19.034 [reactor-http-nio-4]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:27:19.034 [reactor-http-nio-4]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:27:35.795 [reactor-http-nio-4]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [0132f123-8] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:28:31.237 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [f31eec90-9] HTTP GET "/v1/demo/1"
2025-07-24 14:28:31.237 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:28:31.237 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:28:31.238 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [f31eec90-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:28:31.238 [reactor-http-nio-5]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:28:31.238 [reactor-http-nio-5]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:29:38.033 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [f31eec90-9] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:39:37.892 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-10] HTTP GET "/v1/demo/1"
2025-07-24 14:39:37.893 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:39:37.893 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:39:37.893 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [40bdcd59-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:39:37.893 [reactor-http-nio-6]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:39:37.893 [reactor-http-nio-6]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:39:39.615 [reactor-http-nio-6]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 14:39:39.616 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-10] Completed 401 UNAUTHORIZED
2025-07-24 14:39:59.553 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-11] HTTP POST "/auth/login"
2025-07-24 14:39:59.553 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth_route
2025-07-24 14:39:59.553 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/auth/login] to Route{id='auth_route', uri=http://127.0.0.1:8081, order=0, predicate=Paths: [/auth/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:39:59.553 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [40bdcd59-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:39:59.553 [reactor-http-nio-6]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:39:59.555 [reactor-http-nio-6]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:39:59.569 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-11] Completed 200 OK
2025-07-24 14:40:08.063 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-12] HTTP GET "/v1/demo/1"
2025-07-24 14:40:08.064 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:40:08.064 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:40:08.064 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [40bdcd59-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:40:08.064 [reactor-http-nio-6]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:40:08.064 [reactor-http-nio-6]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:40:17.829 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-12] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:40:51.373 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-13] HTTP GET "/v1/demo/1"
2025-07-24 14:40:51.374 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:40:51.374 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:40:51.374 [reactor-http-nio-6]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [40bdcd59-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:40:51.374 [reactor-http-nio-6]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:40:51.374 [reactor-http-nio-6]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:42:00.761 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [40bdcd59-13] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:42:52.652 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ab1c281f-14] HTTP GET "/v1/demo/1"
2025-07-24 14:42:52.653 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:42:52.653 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:42:52.653 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [ab1c281f-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:42:52.653 [reactor-http-nio-7]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:42:52.653 [reactor-http-nio-7]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:44:37.763 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ab1c281f-14] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:44:47.088 [reactor-http-nio-8]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4da7667f-15] HTTP GET "/v1/demo/1"
2025-07-24 14:44:47.088 [reactor-http-nio-8]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:44:47.088 [reactor-http-nio-8]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:44:47.088 [reactor-http-nio-8]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4da7667f-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:44:47.088 [reactor-http-nio-8]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:44:47.088 [reactor-http-nio-8]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:45:46.510 [reactor-http-nio-8]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4da7667f-15] Completed 500 INTERNAL_SERVER_ERROR
2025-07-24 14:54:42.236 [reactor-http-nio-9]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6917dd33-16] HTTP GET "/v1/demo/1"
2025-07-24 14:54:42.236 [reactor-http-nio-9]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 14:54:42.236 [reactor-http-nio-9]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 14:54:42.236 [reactor-http-nio-9]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6917dd33-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 14:54:42.237 [reactor-http-nio-9]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 14:54:42.237 [reactor-http-nio-9]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 14:55:07.521 [reactor-http-nio-9]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6917dd33-16] Completed 200 OK
2025-07-24 15:03:37.916 [main]  INFO  c.e.d.DemoServiceApplication - Starting DemoServiceApplication using Java 1.8.0_391 on wuka-pc with PID 1896 (E:\javaWorkspace\boot-modules\demo-service\target\classes started by wuka in E:\javaWorkspace\boot-modules)
2025-07-24 15:03:37.918 [main]  INFO  c.e.d.DemoServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-24 15:03:38.395 [main]  INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d3c00189-5178-36dc-8815-1169a59eb7c9
2025-07-24 15:03:38.643 [main]  INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-07-24 15:03:38.649 [main]  INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-24 15:03:38.649 [main]  INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.82]
2025-07-24 15:03:38.754 [main]  INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-24 15:03:38.754 [main]  INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 811 ms
2025-07-24 15:03:39.055 [main]  INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-24 15:03:39.324 [main]  WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-07-24 15:03:39.368 [main]  INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-07-24 15:03:39.564 [main]  INFO  c.e.d.DemoServiceApplication - Started DemoServiceApplication in 2.193 seconds (JVM running for 2.802)
2025-07-24 15:05:13.551 [reactor-http-nio-10]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [cbe711c6-17] HTTP GET "/v1/demo/1"
2025-07-24 15:05:13.553 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 15:05:13.553 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 15:05:13.553 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [cbe711c6-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 15:05:13.553 [reactor-http-nio-10]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 15:05:13.553 [reactor-http-nio-10]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 15:05:15.098 [reactor-http-nio-10]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 15:05:15.098 [reactor-http-nio-10]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [cbe711c6-17] Completed 401 UNAUTHORIZED
2025-07-24 15:05:26.286 [reactor-http-nio-10]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [cbe711c6-18] HTTP POST "/auth/login"
2025-07-24 15:05:26.287 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth_route
2025-07-24 15:05:26.287 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/auth/login] to Route{id='auth_route', uri=http://127.0.0.1:8081, order=0, predicate=Paths: [/auth/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 15:05:26.287 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [cbe711c6-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 15:05:26.287 [reactor-http-nio-10]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 15:05:26.287 [reactor-http-nio-10]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 15:05:26.403 [reactor-http-nio-10]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [cbe711c6-18] Completed 200 OK
2025-07-24 15:05:35.315 [reactor-http-nio-10]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [cbe711c6-19] HTTP GET "/v1/demo/1"
2025-07-24 15:05:35.315 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 15:05:35.315 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/v1/demo/**], match trailing slash: true, gatewayFilters=[], metadata={}}
2025-07-24 15:05:35.315 [reactor-http-nio-10]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [cbe711c6-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5aec8dff
2025-07-24 15:05:35.315 [reactor-http-nio-10]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@474749b8}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7fef0b40}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f7a2a5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b2b8d86}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e30db85}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@cc9ef8d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5f395ce1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@740a0d5e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29013ef2}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@19827608}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@265c1a7c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@19f02280}, order = 2147483647]]
2025-07-24 15:05:35.316 [reactor-http-nio-10]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 15:05:43.929 [reactor-http-nio-10]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [cbe711c6-19] Completed 200 OK
2025-07-24 17:24:16.933 [main]  INFO  c.example.gateway.GatewayApplication - Starting GatewayApplication using Java 17.0.11 on wuka-pc with PID 17356 (E:\javaWorkspace\boot-modules\gateway\target\classes started by wuka in E:\javaWorkspace\boot-modules)
2025-07-24 17:24:16.936 [main]  INFO  c.example.gateway.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-24 17:24:17.598 [main]  INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=02c9ab62-0cfc-325c-83cf-895bcaca58de
2025-07-24 17:24:17.669 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 17:24:17.670 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 17:24:17.670 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 17:24:18.432 [main]  DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/v1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api(/(?<segment>.*))?$, _genkey_1=/projects/spring-cloud-gateway/$\{segment}}}], uri=https://spring.io, order=0, metadata={}}, RouteDefinition{id='auth_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/v1/auth/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=http://127.0.0.1:8081, order=0, metadata={}}, RouteDefinition{id='demo_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/v1/demo/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=http://127.0.0.1:8082, order=0, metadata={}}]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-07-24 17:24:18.693 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-07-24 17:24:18.694 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-07-24 17:24:18.694 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-07-24 17:24:18.694 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-07-24 17:24:19.003 [main]  INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-07-24 17:24:19.085 [main]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-24 17:24:19.223 [main]  WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-07-24 17:24:19.480 [main]  INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 8080
2025-07-24 17:24:19.646 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test_route applying {_genkey_0=/api/v1/**} to Path
2025-07-24 17:24:19.664 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test_route applying filter {_genkey_0=/api(/(?<segment>.*))?$, _genkey_1=/projects/spring-cloud-gateway/$\{segment}} to RewritePath
2025-07-24 17:24:19.674 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test_route
2025-07-24 17:24:19.675 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth_route applying {_genkey_0=/api/v1/auth/**} to Path
2025-07-24 17:24:19.675 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth_route applying filter {_genkey_0=1} to StripPrefix
2025-07-24 17:24:19.679 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth_route
2025-07-24 17:24:19.679 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition demo_route applying {_genkey_0=/api/v1/demo/**} to Path
2025-07-24 17:24:19.680 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition demo_route applying filter {_genkey_0=1} to StripPrefix
2025-07-24 17:24:19.680 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: demo_route
2025-07-24 17:24:19.687 [main]  DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 3
2025-07-24 17:24:19.693 [main]  INFO  c.example.gateway.GatewayApplication - Started GatewayApplication in 3.197 seconds (JVM running for 3.772)
2025-07-24 17:25:41.065 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-1] HTTP POST "/api/v1/auth/login"
2025-07-24 17:25:41.094 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: test_route
2025-07-24 17:25:41.097 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/api/v1/auth/login] to Route{id='test_route', uri=https://spring.io:443, order=0, predicate=Paths: [/api/v1/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1]], metadata={}}
2025-07-24 17:25:41.097 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [58e3fb75-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26f860d7
2025-07-24 17:25:41.099 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@696b52bc}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@29013ef2}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@467045c4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@740a0d5e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7fef0b40}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@19f02280}, order = 0], [[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@265c1a7c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@1f884bd6}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4f081b5d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@5f395ce1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@474749b8}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b2b8d86}, order = 2147483647]]
2025-07-24 17:25:41.100 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:25:42.614 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-1] Completed 403 FORBIDDEN
2025-07-24 17:26:48.738 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-2] HTTP POST "/api/v1/auth/login"
2025-07-24 17:26:48.738 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: test_route
2025-07-24 17:26:48.739 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/api/v1/auth/login] to Route{id='test_route', uri=https://spring.io:443, order=0, predicate=Paths: [/api/v1/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1]], metadata={}}
2025-07-24 17:26:48.739 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [58e3fb75-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26f860d7
2025-07-24 17:26:48.739 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@696b52bc}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@29013ef2}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@467045c4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@740a0d5e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7fef0b40}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@19f02280}, order = 0], [[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@265c1a7c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@1f884bd6}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4f081b5d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@5f395ce1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@474749b8}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b2b8d86}, order = 2147483647]]
2025-07-24 17:26:48.739 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:26:49.000 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-2] Completed 403 FORBIDDEN
2025-07-24 17:27:03.983 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-3] HTTP POST "/api/v1/auth/login"
2025-07-24 17:27:03.984 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: test_route
2025-07-24 17:27:03.984 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/api/v1/auth/login] to Route{id='test_route', uri=https://spring.io:443, order=0, predicate=Paths: [/api/v1/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1]], metadata={}}
2025-07-24 17:27:03.984 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [58e3fb75-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26f860d7
2025-07-24 17:27:03.984 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@696b52bc}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@29013ef2}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@467045c4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@740a0d5e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7fef0b40}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@19f02280}, order = 0], [[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@265c1a7c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@1f884bd6}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4f081b5d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@5f395ce1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@474749b8}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b2b8d86}, order = 2147483647]]
2025-07-24 17:27:03.984 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:27:04.186 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-3] Completed 403 FORBIDDEN
2025-07-24 17:28:03.936 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-4] HTTP POST "/api/v1/auth/login"
2025-07-24 17:28:03.937 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: test_route
2025-07-24 17:28:03.937 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/api/v1/auth/login] to Route{id='test_route', uri=https://spring.io:443, order=0, predicate=Paths: [/api/v1/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1]], metadata={}}
2025-07-24 17:28:03.937 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [58e3fb75-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26f860d7
2025-07-24 17:28:03.937 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@696b52bc}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@29013ef2}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@467045c4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@740a0d5e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7fef0b40}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@19f02280}, order = 0], [[RewritePath /api(/(?<segment>.*))?$ = '/projects/spring-cloud-gateway/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@265c1a7c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@1f884bd6}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4f081b5d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@5f395ce1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@474749b8}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b2b8d86}, order = 2147483647]]
2025-07-24 17:28:03.937 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:28:04.380 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [58e3fb75-4] Completed 403 FORBIDDEN
2025-07-24 17:28:59.658 [main]  INFO  c.example.gateway.GatewayApplication - Starting GatewayApplication using Java 17.0.11 on wuka-pc with PID 18136 (E:\javaWorkspace\boot-modules\gateway\target\classes started by wuka in E:\javaWorkspace\boot-modules)
2025-07-24 17:28:59.660 [main]  INFO  c.example.gateway.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-24 17:29:00.316 [main]  INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=02c9ab62-0cfc-325c-83cf-895bcaca58de
2025-07-24 17:29:00.383 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 17:29:00.383 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 17:29:00.384 [main]  INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-07-24 17:29:01.155 [main]  DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/test/v1/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/test(/(?<segment>.*))?$, _genkey_1=/projects/spring-cloud-gateway/$\{segment}}}], uri=https://spring.io, order=0, metadata={}}, RouteDefinition{id='auth_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/v1/auth/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=http://127.0.0.1:8081, order=0, metadata={}}, RouteDefinition{id='demo_route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/v1/demo/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=http://127.0.0.1:8082, order=0, metadata={}}]
2025-07-24 17:29:01.411 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-07-24 17:29:01.412 [main]  INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-07-24 17:29:01.731 [main]  INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-07-24 17:29:01.812 [main]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-24 17:29:01.987 [main]  WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-07-24 17:29:02.238 [main]  INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 8080
2025-07-24 17:29:02.406 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test_route applying {_genkey_0=/test/v1/**} to Path
2025-07-24 17:29:02.422 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test_route applying filter {_genkey_0=/test(/(?<segment>.*))?$, _genkey_1=/projects/spring-cloud-gateway/$\{segment}} to RewritePath
2025-07-24 17:29:02.433 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test_route
2025-07-24 17:29:02.434 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth_route applying {_genkey_0=/api/v1/auth/**} to Path
2025-07-24 17:29:02.434 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth_route applying filter {_genkey_0=1} to StripPrefix
2025-07-24 17:29:02.437 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth_route
2025-07-24 17:29:02.438 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition demo_route applying {_genkey_0=/api/v1/demo/**} to Path
2025-07-24 17:29:02.438 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition demo_route applying filter {_genkey_0=1} to StripPrefix
2025-07-24 17:29:02.439 [main]  DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: demo_route
2025-07-24 17:29:02.446 [main]  DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 3
2025-07-24 17:29:02.453 [main]  INFO  c.example.gateway.GatewayApplication - Started GatewayApplication in 3.255 seconds (JVM running for 3.756)
2025-07-24 17:29:04.197 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-1] HTTP POST "/api/v1/auth/login"
2025-07-24 17:29:04.232 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth_route
2025-07-24 17:29:04.236 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/api/v1/auth/login] to Route{id='auth_route', uri=http://127.0.0.1:8081, order=0, predicate=Paths: [/api/v1/auth/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:29:04.236 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1108faa6-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:29:04.237 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:29:04.239 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:29:06.853 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-1] Completed 200 OK
2025-07-24 17:29:25.704 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-2] HTTP GET "/api/v1/test"
2025-07-24 17:29:25.771 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-2] Completed 404 NOT_FOUND
2025-07-24 17:29:46.580 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-3] HTTP GET "/api/v1/demo/1"
2025-07-24 17:29:46.581 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:29:46.581 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:29:46.581 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1108faa6-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:29:46.581 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:29:46.581 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:29:49.461 [reactor-http-nio-2]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 17:29:49.461 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-3] Completed 401 UNAUTHORIZED
2025-07-24 17:30:02.981 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-4] HTTP GET "/api/v1/test"
2025-07-24 17:30:02.983 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-4] Completed 404 NOT_FOUND
2025-07-24 17:30:08.358 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-5] HTTP GET "/api/v1/demo/1"
2025-07-24 17:30:08.359 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:30:08.359 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/1] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:30:08.359 [reactor-http-nio-2]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1108faa6-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:30:08.359 [reactor-http-nio-2]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:30:08.359 [reactor-http-nio-2]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:30:12.140 [reactor-http-nio-2]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1108faa6-5] Completed 401 UNAUTHORIZED
2025-07-24 17:31:32.974 [reactor-http-nio-3]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [54bdd118-6] HTTP GET "/api/v1/demo/user"
2025-07-24 17:31:32.975 [reactor-http-nio-3]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:31:32.975 [reactor-http-nio-3]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/user] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:31:32.975 [reactor-http-nio-3]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [54bdd118-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:31:32.975 [reactor-http-nio-3]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:31:32.975 [reactor-http-nio-3]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:31:34.540 [reactor-http-nio-3]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 17:31:34.541 [reactor-http-nio-3]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [54bdd118-6] Completed 401 UNAUTHORIZED
2025-07-24 17:34:10.322 [reactor-http-nio-4]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5bcb8b68-7] HTTP GET "/api/v1/demo/user"
2025-07-24 17:34:10.323 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:34:10.323 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/user] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:34:10.323 [reactor-http-nio-4]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5bcb8b68-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:34:10.323 [reactor-http-nio-4]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:34:10.323 [reactor-http-nio-4]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:34:12.969 [reactor-http-nio-4]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 17:34:12.969 [reactor-http-nio-4]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5bcb8b68-7] Completed 401 UNAUTHORIZED
2025-07-24 17:35:16.489 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33b007bd-8] HTTP GET "/api/v1/demo/user"
2025-07-24 17:35:16.489 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:35:16.490 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/user] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:35:16.490 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [33b007bd-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:35:16.490 [reactor-http-nio-5]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:35:16.490 [reactor-http-nio-5]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:35:21.041 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33b007bd-8] Completed 200 OK
2025-07-24 17:35:42.475 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33b007bd-9] HTTP GET "/api/v1/demo/order"
2025-07-24 17:35:42.476 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:35:42.477 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/order] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:35:42.477 [reactor-http-nio-5]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [33b007bd-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:35:42.478 [reactor-http-nio-5]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:35:42.478 [reactor-http-nio-5]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:35:51.663 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33b007bd-9] Completed 200 OK
2025-07-24 17:36:43.342 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33b007bd-10] HTTP GET "/test/abc"
2025-07-24 17:36:43.346 [reactor-http-nio-5]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33b007bd-10] Completed 404 NOT_FOUND
2025-07-24 17:42:44.146 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4fcd5a53-11] HTTP POST "/bb"
2025-07-24 17:42:44.151 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4fcd5a53-11] Completed 404 NOT_FOUND
2025-07-24 17:42:50.739 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4fcd5a53-12] HTTP POST "/bb"
2025-07-24 17:42:50.742 [reactor-http-nio-6]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4fcd5a53-12] Completed 404 NOT_FOUND
2025-07-24 17:45:01.803 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [e6b4c67c-13] HTTP GET "/api/v1/demo/user"
2025-07-24 17:45:01.804 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:45:01.804 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/user] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:45:01.804 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [e6b4c67c-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:45:01.804 [reactor-http-nio-7]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:45:01.804 [reactor-http-nio-7]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:45:03.869 [reactor-http-nio-7]  ERROR com.example.common.utils.JwtUtil - token 已过期
2025-07-24 17:45:03.870 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [e6b4c67c-13] Completed 401 UNAUTHORIZED
2025-07-24 17:45:15.803 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [e6b4c67c-14] HTTP POST "/api/v1/auth/login"
2025-07-24 17:45:15.804 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth_route
2025-07-24 17:45:15.804 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://127.0.0.1:8080/api/v1/auth/login] to Route{id='auth_route', uri=http://127.0.0.1:8081, order=0, predicate=Paths: [/api/v1/auth/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:45:15.804 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [e6b4c67c-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:45:15.804 [reactor-http-nio-7]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:45:15.804 [reactor-http-nio-7]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:45:17.296 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [e6b4c67c-14] Completed 200 OK
2025-07-24 17:45:25.592 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [e6b4c67c-15] HTTP GET "/api/v1/demo/user"
2025-07-24 17:45:25.593 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: demo_route
2025-07-24 17:45:25.593 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://127.0.0.1:8080/api/v1/demo/user] to Route{id='demo_route', uri=http://127.0.0.1:8082, order=0, predicate=Paths: [/api/v1/demo/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 1], order = 1]], metadata={}}
2025-07-24 17:45:25.593 [reactor-http-nio-7]  DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [e6b4c67c-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@34c316d0
2025-07-24 17:45:25.593 [reactor-http-nio-7]  DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=com.example.gateway.filter.AuthGlobalFilter@5f395ce1}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@14b528b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44592c39}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@cc9ef8d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@450f0235}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7d2c9361}, order = 0], [[StripPrefix parts = 1], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@c412556}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@19f02280}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@1e30db85}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78c262ba}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@19827608}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f930e0}, order = 2147483647]]
2025-07-24 17:45:25.593 [reactor-http-nio-7]  INFO  c.e.gateway.filter.AuthGlobalFilter - 执行了自定义的全局过滤器
2025-07-24 17:45:27.595 [reactor-http-nio-7]  DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [e6b4c67c-15] Completed 200 OK
